<?php


require_once('json_atp.php');

$head_key = 'super-key-for-server1';
$data_key = 'data-mega-key1';

$atps = new JsonAtp();
$atps->setFlag(JsonAtp::DEFAULT_FLAG);

$atps->setCipher('aes-256-ofb');
$atps->setKey($head_key,$data_key);

$atps->extraHead(array('client-ids'=>1339,'server-ids'=>3992742));
$encode = $atps->encode("rc4-40");

var_dump(array('encode' => $encode));
var_dump($atps);

var_dump('-- ENCODE --');

//$atp_decode = new JsonAtpServer();
//$atp_decode->setKey($head_key,$data_key);
//$atp_decode->decode($encode);

$json = new JsonAtp();
$json->setKey('qwertyasdfg','hfdgdfgdfgewffFASCAC');
$encode = $json->decode('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');

#var_dump($json);
#var_dump($encode);